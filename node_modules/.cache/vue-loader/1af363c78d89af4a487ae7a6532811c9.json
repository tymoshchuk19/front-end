{"remainingRequest":"/home/canel/Code/PRI/front-end/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/canel/Code/PRI/front-end/src/components/GroupForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/canel/Code/PRI/front-end/src/components/GroupForm.vue","mtime":1580417697896},{"path":"/home/canel/Code/PRI/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1580417697002},{"path":"/home/canel/Code/PRI/front-end/node_modules/babel-loader/lib/index.js","mtime":1580417696982},{"path":"/home/canel/Code/PRI/front-end/node_modules/vuetify-loader/lib/loader.js","mtime":1580417697716},{"path":"/home/canel/Code/PRI/front-end/node_modules/cache-loader/dist/cjs.js","mtime":1580417697002},{"path":"/home/canel/Code/PRI/front-end/node_modules/vue-loader/lib/index.js","mtime":1580417697686}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHZhbGlkYXRpb25NaXhpbiB9IGZyb20gInZ1ZWxpZGF0ZSI7CmltcG9ydCB7IHJlcXVpcmVkIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKaW1wb3J0IHsgQVBJIH0gZnJvbSAiLi4vLi4vY29uZmlnL2NvbmZpZyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CgovKmVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUqLwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW3ZhbGlkYXRpb25NaXhpbl0sCgogIHZhbGlkYXRpb25zOiB7CiAgICBuYW1lOiB7IHJlcXVpcmVkIH0sCiAgICBkZXNjcmlwdGlvbjogeyByZXF1aXJlZCB9CiAgfSwKCiAgZGF0YTogKCkgPT4gKHsKICAgIGRpYWxvZzogZmFsc2UsCiAgICBuYW1lOiAiIiwKICAgIHJ1bGVzOiBbdiA9PiAhIXYgfHwgIkNvbnRlbnQgaXMgcmVxdWlyZWQuIl0sCiAgICBkZXNjcmlwdGlvbjogIiIKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIG5hbWVFcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYubmFtZS4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2Lm5hbWUucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goIk5hbWUgaXMgcmVxdWlyZWQuIik7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAogICAgLi4ubWFwU3RhdGUoWyJ1c2VyIl0pCiAgfSwKCiAgbWV0aG9kczogewogICAgc3VibWl0KCkgewogICAgICBheGlvcwogICAgICAgIC5wb3N0KEFQSSArICJncm91cHMvIiwgewogICAgICAgICAgdXNlcnM6IFt7IHVzZXI6IHRoaXMudXNlci5faWQsIHJvbGU6ICJhZG1pbiIgfV0sCiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbgogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJGVtaXQoIm5ld0dyb3VwIik7CiAgICAgICAgICB0aGlzLmNsZWFyKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2xlYXIoKSB7CiAgICAgIHRoaXMuJHYuJHJlc2V0KCk7CiAgICAgIHRoaXMubmFtZSA9ICIiOwogICAgICB0aGlzLmRlc2NyaXB0aW9uID0gIiI7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["GroupForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GroupForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-row justify=\"center\">\n    <v-dialog v-model=\"dialog\" persistent max-width=\"290\">\n      <template v-slot:activator=\"{ on }\">\n        <v-btn block tile color=\"primary\" dark v-on=\"on\">New Group</v-btn>\n      </template>\n      <v-card class=\"pr-2 pl-2 pb-2 mb-4\">\n        <form>\n          <v-text-field\n            v-model=\"name\"\n            :error-messages=\"nameErrors\"\n            label=\"Name\"\n            required\n            @input=\"$v.name.$touch()\"\n            @blur=\"$v.name.$touch()\"\n          ></v-text-field>\n          <v-textarea counter outlined v-model=\"description\" label=\"Description\" :rules=\"rules\"></v-textarea>\n\n          <v-btn class=\"primary mr-4\" text rounded @click=\"submit\">submit</v-btn>\n          <v-btn color=\"primary darken-1\" text @click=\"dialog = false\">Close</v-btn>\n        </form>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n\n<script>\nimport { validationMixin } from \"vuelidate\";\nimport { required } from \"vuelidate/lib/validators\";\nimport { API } from \"../../config/config\";\nimport axios from \"axios\";\nimport { mapState } from \"vuex\";\n\n/*eslint-disable no-console*/\n\nexport default {\n  mixins: [validationMixin],\n\n  validations: {\n    name: { required },\n    description: { required }\n  },\n\n  data: () => ({\n    dialog: false,\n    name: \"\",\n    rules: [v => !!v || \"Content is required.\"],\n    description: \"\"\n  }),\n\n  computed: {\n    nameErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.required && errors.push(\"Name is required.\");\n      return errors;\n    },\n    ...mapState([\"user\"])\n  },\n\n  methods: {\n    submit() {\n      axios\n        .post(API + \"groups/\", {\n          users: [{ user: this.user._id, role: \"admin\" }],\n          name: this.name,\n          description: this.description\n        })\n        .then(() => {\n          this.dialog = false;\n          this.$emit(\"newGroup\");\n          this.clear();\n        });\n    },\n    clear() {\n      this.$v.$reset();\n      this.name = \"\";\n      this.description = \"\";\n    }\n  }\n};\n</script>"]}]}